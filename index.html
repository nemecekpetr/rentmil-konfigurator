<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konfigurátor bazénů Rentmil</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        background: linear-gradient(135deg, #FF8621 0%, #48A9A6 100%);
        min-height: 100vh;
        padding: 20px;
      }
      
      .container {
        max-width: 800px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 24px;
        box-shadow: 0 20px 60px rgba(1, 56, 75, 0.3);
        overflow: hidden;
      }
      
      .logo-container {
        text-align: center;
        padding: 40px 20px 20px;
        background: linear-gradient(180deg, rgba(255, 255, 255, 0.5) 0%, transparent 100%);
      }
      
      .logo {
        max-width: 280px;
        height: auto;
      }
      
      header {
        background: linear-gradient(135deg, #01384B 0%, #48A9A6 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }
      
      h1 {
        font-size: 32px;
        margin-bottom: 10px;
        font-weight: 700;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }
      
      .subtitle {
        font-size: 16px;
        opacity: 0.95;
        font-weight: 400;
      }
      
      .content {
        padding: 40px;
      }
      
      .step-card {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(20px);
        border-radius: 16px;
        padding: 30px;
        margin-bottom: 20px;
        border: 1px solid rgba(72, 169, 166, 0.2);
        box-shadow: 0 4px 20px rgba(1, 56, 75, 0.08);
      }
      
      h2 {
        color: #01384B;
        font-size: 24px;
        margin-bottom: 20px;
      }
      
      .pool-option, .accessory-option {
        border: 2px solid #e0e0e0;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: white;
      }
      
      .pool-option:hover, .accessory-option:hover {
        border-color: #48A9A6;
        box-shadow: 0 4px 15px rgba(72, 169, 166, 0.15);
        transform: translateY(-2px);
      }
      
      .pool-option.selected, .accessory-option.selected {
        border-color: #48A9A6;
        background: linear-gradient(135deg, rgba(255, 134, 33, 0.08) 0%, rgba(72, 169, 166, 0.08) 100%);
        box-shadow: 0 4px 20px rgba(72, 169, 166, 0.2);
      }
      
      .option-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }
      
      .option-name {
        font-weight: 600;
        font-size: 18px;
        color: #01384B;
      }
      
      .option-price {
        color: #FF8621;
        font-weight: 700;
        font-size: 18px;
      }
      
      .option-description {
        color: #666;
        font-size: 14px;
        line-height: 1.5;
      }
      
      .navigation {
        display: flex;
        justify-content: space-between;
        margin-top: 30px;
      }
      
      button {
        background: linear-gradient(135deg, #FF8621 0%, #48A9A6 100%);
        color: white;
        border: none;
        padding: 14px 32px;
        border-radius: 50px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(255, 134, 33, 0.3);
      }
      
      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 25px rgba(255, 134, 33, 0.4);
      }
      
      button:disabled {
        background: linear-gradient(135deg, #ccc 0%, #999 100%);
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }
      
      .summary {
        background: linear-gradient(135deg, #01384B 0%, #48A9A6 100%);
        color: white;
        padding: 30px;
        border-radius: 16px;
        margin-top: 30px;
        box-shadow: 0 8px 30px rgba(1, 56, 75, 0.3);
      }
      
      .summary h3 {
        font-size: 24px;
        margin-bottom: 20px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }
      
      .summary-item {
        display: flex;
        justify-content: space-between;
        padding: 12px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      }
      
      .summary-item:last-child {
        border-bottom: none;
        font-size: 20px;
        font-weight: 700;
        margin-top: 10px;
        padding-top: 20px;
        border-top: 2px solid rgba(255, 255, 255, 0.3);
      }
      
      .form-group {
        margin-bottom: 20px;
      }
      
      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #01384B;
      }
      
      input, textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s;
      }
      
      input:focus, textarea:focus {
        outline: none;
        border-color: #48A9A6;
      }
      
      textarea {
        resize: vertical;
        min-height: 100px;
      }
      
      .success-message {
        text-align: center;
        padding: 60px 20px;
      }
      
      .success-icon {
        font-size: 80px;
        margin-bottom: 20px;
      }
      
      .success-message h2 {
        color: #01384B;
        margin-bottom: 15px;
      }
      
      .success-message p {
        color: #666;
        font-size: 18px;
        line-height: 1.6;
      }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      const pools = [
        {
          id: 1,
          name: 'Bazén Basic 3x6m',
          price: 89000,
          description: 'Ideální pro menší zahrady, hloubka 1,2m'
        },
        {
          id: 2,
          name: 'Bazén Standard 4x8m',
          price: 145000,
          description: 'Nejoblíbenější volba, hloubka 1,5m'
        },
        {
          id: 3,
          name: 'Bazén Premium 5x10m',
          price: 220000,
          description: 'Pro náročné, hloubka 1,8m'
        }
      ];

      const accessories = [
        { id: 1, name: 'Tepelné čerpadlo', price: 35000 },
        { id: 2, name: 'Solární ohřev', price: 25000 },
        { id: 3, name: 'Protiproud', price: 45000 },
        { id: 4, name: 'LED osvětlení', price: 15000 },
        { id: 5, name: 'Automatické zakrytí', price: 55000 },
        { id: 6, name: 'Robotický vysavač', price: 28000 }
      ];

      function PoolConfigurator() {
        const [step, setStep] = useState(1);
        const [selectedPool, setSelectedPool] = useState(null);
        const [selectedAccessories, setSelectedAccessories] = useState([]);
        const [customerData, setCustomerData] = useState({
          name: '',
          email: '',
          phone: '',
          address: '',
          notes: ''
        });
        const [submitted, setSubmitted] = useState(false);

        const toggleAccessory = (id) => {
          setSelectedAccessories(prev =>
            prev.includes(id) ? prev.filter(a => a !== id) : [...prev, id]
          );
        };

        const calculateTotal = () => {
          const poolPrice = selectedPool ? pools.find(p => p.id === selectedPool).price : 0;
          const accessoriesPrice = selectedAccessories.reduce((sum, id) => {
            return sum + accessories.find(a => a.id === id).price;
          }, 0);
          return poolPrice + accessoriesPrice;
        };

        const handleSubmit = async () => {
          const pool = pools.find(p => p.id === selectedPool);
          const selectedAcc = accessories.filter(a => selectedAccessories.includes(a.id));
          
          const data = {
            pool: pool.name,
            accessories: selectedAcc.map(a => a.name),
            totalPrice: calculateTotal(),
            customer: customerData
          };

          try {
            await fetch('https://hook.eu2.make.com/YOUR_WEBHOOK_ID', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(data)
            });
            setSubmitted(true);
          } catch (error) {
            alert('Chyba při odesílání. Zkuste to prosím znovu.');
          }
        };

        if (submitted) {
          return (
            <div className="container">
              <div className="logo-container">
                <img src="https://raw.githubusercontent.com/nemecekpetr/rentmil-konfigurator/main/logo%20rentmil.png" alt="Rentmil" className="logo" />
              </div>
              <header>
                <h1>Děkujeme!</h1>
                <p className="subtitle">Vaše poptávka byla odeslána</p>
              </header>
              <div className="content">
                <div className="success-message">
                  <div className="success-icon">✓</div>
                  <h2>Poptávka úspěšně odeslána</h2>
                  <p>Brzy vás budeme kontaktovat s nabídkou.<br/>Těšíme se na spolupráci!</p>
                </div>
              </div>
            </div>
          );
        }

        return (
          <div className="container">
            <div className="logo-container">
              <img src="https://raw.githubusercontent.com/nemecekpetr/rentmil-konfigurator/main/logo%20rentmil.png" alt="Rentmil" className="logo" />
            </div>
            
            <header>
              <h1>Bazénový konfigurátor</h1>
              <p className="subtitle">Vy zenujete, my bazénujeme</p>
            </header>

            <div className="content">
              {step === 1 && (
                <div className="step-card">
                  <h2>1. Vyberte typ bazénu</h2>
                  {pools.map(pool => (
                    <div
                      key={pool.id}
                      className={`pool-option ${selectedPool === pool.id ? 'selected' : ''}`}
                      onClick={() => setSelectedPool(pool.id)}
                    >
                      <div className="option-header">
                        <span className="option-name">{pool.name}</span>
                        <span className="option-price">{pool.price.toLocaleString('cs-CZ')} Kč</span>
                      </div>
                      <div className="option-description">{pool.description}</div>
                    </div>
                  ))}
                  <div className="navigation">
                    <div></div>
                    <button onClick={() => setStep(2)} disabled={!selectedPool}>
                      Pokračovat →
                    </button>
                  </div>
                </div>
              )}

              {step === 2 && (
                <div className="step-card">
                  <h2>2. Vyberte příslušenství</h2>
                  {accessories.map(acc => (
                    <div
                      key={acc.id}
                      className={`accessory-option ${selectedAccessories.includes(acc.id) ? 'selected' : ''}`}
                      onClick={() => toggleAccessory(acc.id)}
                    >
                      <div className="option-header">
                        <span className="option-name">{acc.name}</span>
                        <span className="option-price">+{acc.price.toLocaleString('cs-CZ')} Kč</span>
                      </div>
                    </div>
                  ))}
                  <div className="navigation">
                    <button onClick={() => setStep(1)}>← Zpět</button>
                    <button onClick={() => setStep(3)}>Pokračovat →</button>
                  </div>
                </div>
              )}

              {step === 3 && (
                <div className="step-card">
                  <h2>3. Kontaktní údaje</h2>
                  <div className="form-group">
                    <label>Jméno a příjmení *</label>
                    <input
                      type="text"
                      value={customerData.name}
                      onChange={(e) => setCustomerData({...customerData, name: e.target.value})}
                      required
                    />
                  </div>
                  <div className="form-group">
                    <label>Email *</label>
                    <input
                      type="email"
                      value={customerData.email}
                      onChange={(e) => setCustomerData({...customerData, email: e.target.value})}
                      required
                    />
                  </div>
                  <div className="form-group">
                    <label>Telefon *</label>
                    <input
                      type="tel"
                      value={customerData.phone}
                      onChange={(e) => setCustomerData({...customerData, phone: e.target.value})}
                      required
                    />
                  </div>
                  <div className="form-group">
                    <label>Adresa instalace</label>
                    <input
                      type="text"
                      value={customerData.address}
                      onChange={(e) => setCustomerData({...customerData, address: e.target.value})}
                    />
                  </div>
                  <div className="form-group">
                    <label>Poznámka</label>
                    <textarea
                      value={customerData.notes}
                      onChange={(e) => setCustomerData({...customerData, notes: e.target.value})}
                    ></textarea>
                  </div>
                  <div className="navigation">
                    <button onClick={() => setStep(2)}>← Zpět</button>
                    <button
                      onClick={handleSubmit}
                      disabled={!customerData.name || !customerData.email || !customerData.phone}
                    >
                      Odeslat poptávku
                    </button>
                  </div>
                </div>
              )}

              {step >= 1 && selectedPool && (
                <div className="summary">
                  <h3>Souhrn konfigurace</h3>
                  <div className="summary-item">
                    <span>Bazén:</span>
                    <span>{pools.find(p => p.id === selectedPool).name}</span>
                  </div>
                  {selectedAccessories.map(id => {
                    const acc = accessories.find(a => a.id === id);
                    return (
                      <div key={id} className="summary-item">
                        <span>{acc.name}</span>
                        <span>{acc.price.toLocaleString('cs-CZ')} Kč</span>
                      </div>
                    );
                  })}
                  <div className="summary-item">
                    <span>Celková cena:</span>
                    <span>{calculateTotal().toLocaleString('cs-CZ')} Kč</span>
                  </div>
                </div>
              )}
            </div>
          </div>
        );
      }

      ReactDOM.render(<PoolConfigurator />, document.getElementById('root'));
    </script>
</body>
</html>
